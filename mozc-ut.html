<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2025-12-08" />
  <title>Mozc UT Dictionaries</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="github.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Mozc UT Dictionaries</h1>
<p class="date">2025-12-08</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#overview" id="toc-overview">Overview</a></li>
<li><a href="#press-the-star-button-on-github"
id="toc-press-the-star-button-on-github">Press the Star button on
GitHub</a></li>
<li><a href="#download" id="toc-download">Download</a></li>
<li><a href="#configure" id="toc-configure">Configure</a></li>
<li><a href="#build" id="toc-build">Build</a></li>
<li><a
href="#option-generate-the-ut-dictionaries-using-the-latest-stuff"
id="toc-option-generate-the-ut-dictionaries-using-the-latest-stuff">Option:
Generate the UT dictionaries using the latest stuff</a></li>
<li><a href="#license" id="toc-license">License</a></li>
<li><a href="#ut辞書の公開中断と再構築"
id="toc-ut辞書の公開中断と再構築">UT辞書の公開中断と再構築</a>
<ul>
<li><a href="#中断するまで" id="toc-中断するまで">中断するまで</a></li>
<li><a href="#再構築" id="toc-再構築">再構築</a></li>
</ul></li>
<li><a href="#更新履歴" id="toc-更新履歴">更新履歴</a></li>
</ul>
</nav>
<h2 id="overview">Overview</h2>
<p><a
href="https://github.com/utuhiro78?tab=repositories&amp;q=mozcdic-ut&amp;type=&amp;language=&amp;sort=">Mozc
UT dictionaries</a> are additional dictionaries for <a
href="https://github.com/google/mozc">Mozc</a>.</p>
<p><a
href="https://github.com/utuhiro78/merge-ut-dictionaries">Merge-ut-dictionaries</a>
merges the UT dictionaries into one and modify it for the latest
Mozc.</p>
<h2 id="press-the-star-button-on-github">Press the Star button on
GitHub</h2>
<p>They need more Stars.</p>
<p>Mozc: <a href="https://github.com/google/mozc">1930 Stars</a></p>
<p>Fcitx5-mozc: <a href="https://github.com/fcitx/mozc">82 Stars</a></p>
<p>Merge-ut-dictionaries: <a
href="https://github.com/utuhiro78/merge-ut-dictionaries">40
Stars</a></p>
<blockquote>
<p>Starring a repository also shows appreciation to the repository
maintainer for their work. - <a
href="https://docs.github.com/en/get-started/exploring-projects-on-github/saving-repositories-with-stars">GitHub
Docs</a></p>
</blockquote>
<blockquote>
<p>リポジトリに Star
を付けるということは、リポジトリメンテナに対してその作業についての感謝を示すことでもあります。-
<a
href="https://docs.github.com/ja/get-started/exploring-projects-on-github/saving-repositories-with-stars">GitHub
Docs</a></p>
</blockquote>
<h2 id="download">Download</h2>
<pre><code>git clone --depth 1 https://github.com/utuhiro78/merge-ut-dictionaries.git</code></pre>
<h2 id="configure">Configure</h2>
<p>Comment out unnecessary dictionaries in src/merge/make.sh.</p>
<p>Default settings:</p>
<pre><code>#alt_cannadic=&quot;true&quot;
#edict2=&quot;true&quot;
jawiki=&quot;true&quot;
#neologd=&quot;true&quot;
personal_names=&quot;true&quot;
place_names=&quot;true&quot;
#skk_jisyo=&quot;true&quot;
sudachidict=&quot;true&quot;</code></pre>
<h2 id="build">Build</h2>
<pre><code>cd src/merge/
sh make.sh
cat mozcdic-ut.txt &gt;&gt; ../../../mozc-master/src/data/dictionary_oss/dictionary00.txt</code></pre>
<p>Build Mozc as usual.</p>
<h2
id="option-generate-the-ut-dictionaries-using-the-latest-stuff">Option:
Generate the UT dictionaries using the latest stuff</h2>
<p>Uncomment <code>#generate_latest="true"</code> in
src/merge/make.sh.</p>
<p>It downloads the latest
“jawiki-latest-pages-articles-multistream.xml.bz2” (over 4.2 GB).</p>
<h2 id="license">License</h2>
<ul>
<li><p>mozcdic-ut.txt (generated by merge-ut-dictionaries): Combined</p>
<p>You can combine <a
href="https://github.com/utuhiro78?tab=repositories&amp;q=mozcdic-ut&amp;type=&amp;language=&amp;sort=">the
UT dictionaries</a>.</p></li>
<li><p><a
href="https://dumps.wikimedia.org/jawiki/latest/">jawiki-latest-pages-articles-multistream-index.txt</a>:
<a
href="https://ja.wikipedia.org/wiki/Wikipedia:ウィキペディアを二次利用する">CC
BY-SA</a></p>
<p>merge-ut-dictionaries use it to generate the costs for
words.</p></li>
<li><p><a
href="https://github.com/google/mozc/tree/master/src/data/dictionary_oss">dictionary*.txt</a>
in Mozc: <a href="https://github.com/google/mozc">BSD-3-Clause</a></p>
<p>merge-ut-dictionaries use them to remove duplicate words.</p></li>
<li><p><a
href="https://github.com/google/mozc/tree/master/src/data/dictionary_oss">id.def</a>
in Mozc: <a href="https://github.com/google/mozc">BSD-3-Clause</a></p>
<p>merge-ut-dictionaries use it to update ID.</p></li>
<li><p>Source code: Apache License, Version 2.0</p></li>
</ul>
<h2 id="ut辞書の公開中断と再構築">UT辞書の公開中断と再構築</h2>
<h3 id="中断するまで">中断するまで</h3>
<p>2023-01-11:<br />
「mozc ut」を検索するとこんな<a
href="https://twitter.com/Hayao0819/status/1612375283457462272">ツイート</a>があった。</p>
<blockquote>
<p>暗黒美無王 dark Vim@ShougoMatsu · 7,463 フォロワー<br />
なぜLinux日本語入力が終わるのか。これは簡単な話です。<br />
Linux日本語入力なんてLinuxデスクトップを直接使ってる人にしか需要がないのです。<br />
2023年1月9日 · 897 件のいいね</p>
<p>山田ハヤオ@Hayao0819 · 6,325 フォロワー<br />
これは一番自分が危惧してること<br />
インプットメソッドは中国のちからがあるのでなくならないとしても、MozcはGoogle依存だしUt系辞書はライセンス的に微妙なのでまともな方法がほしい<br />
2023年1月9日 · 61 件のいいね</p>
</blockquote>
<p>まず暗黒美無王さんのツイートから。<br />
Linux日本語入力が終わる理由は、作っている人に聞かないとわからない。プロジェクトをやめる理由は人それぞれだし、他人が「簡単な話」として語るものでもない。<br />
MozcのLinux対応は<a
href="https://github.com/google/mozc/tree/0fdb7a7b04bdbbc640058e1856b278e668a69b1e/src/unix">2010年5月から</a>行われている。10年以上続いたプロジェクトが終わるとき、ユーザーから言える話は「プロジェクトメンバーへの感謝」しかない。</p>
<p>次に山田ハヤオさんのツイート。<br />
「中国のちからがあるのでなくならない」「Google依存なのでまともな方法ではない」と言うのは、作っている人へのリスペクトがなさすぎる。</p>
<p>UT辞書に関して言うと、山田さんは過去にも「<a
href="https://twitter.com/Hayao0819/status/1433805670692765700">-ut系はライセンスが複雑で不透明</a>」「<a
href="https://twitter.com/Hayao0819/status/1433817801056088068">法的な部分が怖い</a>」とツイートしていた。</p>
<blockquote>
<p>山田ハヤオ@Hayao0819 · 6,325 フォロワー<br />
Ibusはビルドに失敗するのと-ut系はライセンスが複雑で不透明なので使ってないです<br />
2021年9月3日 · 3 件のいいね</p>
</blockquote>
<blockquote>
<p>それで法的な部分が怖いので、開発のかなり初期段階でut系は無理=ibusは難しいという結論になっています<br />
2021年9月4日 · 2 件のいいね</p>
</blockquote>
<p>「法的な部分が怖い」と言われると、作っている方はもっと怖くなる。山田さんが法曹関係者なのかはわからないが、公開を続けて良いものか迷った。<br />
当時のUT辞書では、1つのパッケージに jawiki や neologd
などの辞書をまとめて収録していた。それぞれの辞書はライセンスが異なるので、LICENSE
ファイルに辞書名とライセンスを列挙していた。それが「ライセンス的に微妙」「ライセンスが複雑で不透明」「法的な部分が怖い」と判断されたようだ。<br />
ライセンスが異なる複数の辞書を組み合わせることは、<a
href="https://github.com/neologd/mecab-ipadic-neologd/blob/master/COPYING">mecab-ipadic-NEologd</a>
や <a
href="https://github.com/WorksApplications/SudachiDict/blob/develop/LEGAL">SudachiDict</a>
でも行われている。おそらく問題はないだろうと考えて、このときは公開を続けた。</p>
<p>今回のツイート。</p>
<blockquote>
<p>Ut系辞書はライセンス的に微妙なのでまともな方法がほしい<br />
2023年1月9日 · 61 件のいいね</p>
</blockquote>
<p>最初に見たとき、「いいね」が30件以上ついていて驚いた。ページを更新するたびどんどん増える。<br />
今後も同じようなことを言われ続けるのはしんどいし、山田さんにはフォロワーが6000人以上いるので、そこからの反応もあるだろう。<br />
フリーの配布物に余計なリスクは背負えない。<br />
山田さんのツイートを掲載して、UT辞書の公開終了をアナウンスした。</p>
<h3 id="再構築">再構築</h3>
<p>2023-01-13:<br />
暗い気持ちになっていたが、ライセンスをシンプルにする方法を思いついた。<br />
すべての辞書を分割して個別のリポジトリに置く。UT辞書生成プログラム（merge-ut-dictionaries）も辞書とは別のリポジトリに置く。<br />
そうすれば個々のリポジトリのライセンスは<a
href="https://github.com/utuhiro78/mozcdic-ut-jawiki">シンプルになる</a>。生成したUT辞書は配布しない。</p>
<p>2023-01-15:<br />
各辞書のリポジトリを作成した。<br />
merge-ut-dictionaries のリポジトリを作成した。<br />
最初は「分割するだけだから簡単だろう」と考えていたが、複数のリポジトリ作成とドキュメント書きとコードのアップデートで、かなり手間がかかった。</p>
<p>2023-04-00:<br />
UT辞書終了のアナウンスをしてから、Mozc関連の話題は見ていなかった。<br />
作業が落ち着いたので少し調べてみると、山田ハヤオさんが「Mozc Re-UT
Dictionary」を作っていた。</p>
<blockquote>
<p>Hayao0819/Re-UT<br />
Mozc Re-UT Dictionary.
本家Mozc-UT辞書様の代替を目標としたオープンソースプロジェクトです。</p>
</blockquote>
<p>すごいことをするなあ。<br />
山田さんが誰かのクレームをきっかけに自分のプロジェクトをやめて、クレームを書いた人が「Re-Hayao」と名付けたプロジェクトを始めたら、山田さんはどう思うんだろう。</p>
<p>Mozcチームの皆さんと、Fcitx開発者の wengxt さんに深く感謝。<br />
ユーザーからの<a
href="mozc-ut.html#press-the-star-button-on-github">感謝</a>がないと、オープンソースソフトウェアは続かないと思う。</p>
<h2 id="更新履歴">更新履歴</h2>
<p>主な更新のみ記載。</p>
<p>2010-11-03:<br />
Mozc UT辞書をリリース。</p>
<p>2016-01-14:<br />
Mozc NEologd UT辞書をリリース。コストは mecab-ipadic-NEologd
のコストをベースにした。</p>
<p>2016-10-13:<br />
Mozc UT2辞書をリリース。Mozc
UT辞書を入れたパーティションを壊してしまったので作り直した。</p>
<p>2016-10-20:<br />
Mozc
UT2辞書のコストを独自に計算することにした。例えば「天気予報」という単語をウィキペディア全記事（解凍前で3GB）内で完全一致検索し、ヒット数に応じて「天気予報」のコストを設定。この処理には長い時間と高い負荷がかかった。</p>
<p>2020-02-06:<br />
NEologd辞書のコストも独自に計算することにした。mecab-ipadic-NEologd
のコストだと、「三浦大知」より「三浦大地」が優先されてしまう。ただ、ウィキペディア「全記事」（解凍前で3GB）内で「三浦大知」を完全一致検索すると、時間がかかりすぎる。そこで、NEologd辞書ではウィキペディア「全見出し」（解凍前で12MB）内で前方一致検索することにした。これで処理時間が大幅に短くなった。</p>
<p>2020-06-11:<br />
UT2辞書とNEologd辞書を1つにまとめて、改めて「Mozc
UT辞書」としてリリース。辞書生成コードはほとんど書き直した。コストの計算方法は、すべてNEologd辞書と同じものにした。NEologd辞書を単体で配布するときは、「mozcdic-utからの派生」という意味で、ファイル名を「mozcdic-ut-neologd」とした。</p>
<p>2020-06-22:<br />
jawiki辞書を追加。ウィキペディア全見出しを表記とし、記事本文から読みを得て、辞書を作成した。コストの計算方法はNEologd辞書と同じ。jawiki辞書はユーザー自身でアップデートできるので、新語を簡単に追加できる。1人の努力に頼り切らない辞書づくりの仕組みが必要だと考えた。</p>
<p>2021-02-15:<br />
SudachiDict辞書を追加。</p>
<p>2023-01-15:<br />
今まではすべての辞書を1つのリポジトリに置いていたが、個別のリポジトリに置くようにした。<br />
merge-ut-dictionaries を作成。<br />
生成したUT辞書の配布をやめた。</p>
<p>2024-07-04:<br />
辞書生成コードを Python で書き換えた（以前は Ruby）。</p>
<p>2024-10-22:<br />
辞書生成コードを merge-ut-dictionaries/src/
にまとめた。各辞書のリポジトリには辞書ファイルのみを置くようにした。</p>
<p><a href="index.html">HOME</a></p>
</body>
</html>
